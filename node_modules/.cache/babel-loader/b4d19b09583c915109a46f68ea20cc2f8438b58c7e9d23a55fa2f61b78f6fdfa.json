{"ast":null,"code":"var _jsxFileName = \"/Users/stevie/Desktop/Code/RRRSS/src/components/ItemDetails.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { fetchItemDetails, updateItemReadStatus } from '../services/api';\nimport ReadButton from './ReadButton';\nimport CustomRichTextRenderer from './CustomRichTextRenderer';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ItemDetails = () => {\n  _s();\n  const {\n    id\n  } = useParams(); // Ensure that useParams is correctly extracting the id parameter\n  const [item, setItem] = useState(null);\n  const fetchData = async () => {\n    try {\n      if (!id) {\n        throw new Error('Item ID is missing');\n      }\n      const data = await fetchItemDetails(id);\n      setItem(data);\n    } catch (error) {\n      console.error('Error fetching item details:', error);\n    }\n  };\n  const updateReadStatus = async () => {\n    try {\n      if (!id || !item) {\n        throw new Error('Item ID or item is missing');\n      }\n      const newReadStatus = item.read === 'Read' ? 'Unread' : 'Read';\n      await updateItemReadStatus(id, newReadStatus, fetchData);\n    } catch (error) {\n      console.error('Error updating read status:', error);\n    }\n  };\n  useEffect(() => {\n    fetchData();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [id]);\n  if (!item) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 16\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"card text-dark bg-light mb-3\",\n    style: {\n      margin: \"auto\",\n      marginTop: 20,\n      padding: \"10px\",\n      maxWidth: '100rem'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: item.title\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(CustomRichTextRenderer, {\n      text: item.description\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"Creator: \", item.creator, \" | Publication Date: \", new Date(item.publication_date).toLocaleDateString()]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"Subject: \", item.subject, \" | Section: \", item.section]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"Department: \", item.department, \" | Comments: \", item.comments]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(ReadButton, {\n      item: item,\n      onUpdateRead: updateReadStatus\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 9\n  }, this);\n};\n_s(ItemDetails, \"iRjOJMVvKTWuLs4KfjrOxrJFkvw=\", false, function () {\n  return [useParams];\n});\n_c = ItemDetails;\nexport default ItemDetails;\nvar _c;\n$RefreshReg$(_c, \"ItemDetails\");","map":{"version":3,"names":["React","useEffect","useState","useParams","fetchItemDetails","updateItemReadStatus","ReadButton","CustomRichTextRenderer","jsxDEV","_jsxDEV","ItemDetails","_s","id","item","setItem","fetchData","Error","data","error","console","updateReadStatus","newReadStatus","read","children","fileName","_jsxFileName","lineNumber","columnNumber","className","style","margin","marginTop","padding","maxWidth","title","text","description","creator","Date","publication_date","toLocaleDateString","subject","section","department","comments","onUpdateRead","_c","$RefreshReg$"],"sources":["/Users/stevie/Desktop/Code/RRRSS/src/components/ItemDetails.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { fetchItemDetails, updateItemReadStatus } from '../services/api';\nimport ReadButton from './ReadButton';\nimport CustomRichTextRenderer from './CustomRichTextRenderer';\n\nconst ItemDetails = () => {\n    const { id } = useParams(); // Ensure that useParams is correctly extracting the id parameter\n    const [item, setItem] = useState(null);\n\n    const fetchData = async () => {\n        try {\n            if (!id) {\n                throw new Error('Item ID is missing');\n            }\n            const data = await fetchItemDetails(id);\n            setItem(data);\n        } catch (error) {\n            console.error('Error fetching item details:', error);\n\n        }\n    };\n\n    const updateReadStatus = async () => {\n        try {\n            if (!id || !item) {\n                throw new Error('Item ID or item is missing');\n            }\n            \n            const newReadStatus = item.read === 'Read' ? 'Unread' : 'Read';\n    \n            await updateItemReadStatus(id, newReadStatus, fetchData);\n        } catch (error) {\n            console.error('Error updating read status:', error);\n        }\n    };\n\n    useEffect(() => {\n        fetchData();\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [id]);\n\n    if (!item) {\n        return <div>Loading...</div>;\n    }\n\n    return (\n        <div className=\"card text-dark bg-light mb-3\" style={{ margin: \"auto\", marginTop: 20, padding: \"10px\", maxWidth: '100rem' }}>\n            <h2>{item.title}</h2>\n            <CustomRichTextRenderer text={item.description} />\n            <p>Creator: {item.creator} | Publication Date: {new Date(item.publication_date).toLocaleDateString()}</p>\n            <p>Subject: {item.subject} | Section: {item.section}</p>\n            <p>Department: {item.department} | Comments: {item.comments}</p>\n            <ReadButton\n                item={item}\n                onUpdateRead={updateReadStatus}\n            />\n        </div>\n    );\n};\n\nexport default ItemDetails;\n\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}